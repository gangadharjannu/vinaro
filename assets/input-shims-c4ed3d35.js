import{K as H,b as T,d as R,a as U,f as G,e as W,g as j,h as q,j as F}from"./index-d61b22b9.js";const p=_;function _(e,n){const t=E();return _=function(o,x){return o=o-493,t[o]},_(e,n)}(function(e,n){const t=_,o=e();for(;[];)try{if(-parseInt(t(531))/1*(parseInt(t(519))/2)+-parseInt(t(499))/3+-parseInt(t(567))/4*(parseInt(t(574))/5)+parseInt(t(526))/6+-parseInt(t(528))/7*(parseInt(t(513))/8)+-parseInt(t(504))/9+parseInt(t(543))/10===n)break;o.push(o.shift())}catch(x){o.push(o.shift())}})(E,228049);function E(){const e=["scrollAssist","cloned-input","querySelectorAll","hasAttribute","removeEventListener","classList","ownerDocument","closest","13579890BhLOmG","px,0) scale(0)","tabIndex","scrollTop","blur","remove","disabled","input, textarea, [no-blur], [contenteditable]","getBoolean","detail","getBoundingClientRect","inputBlurring","min","android","ionKeyboardDidShow","rtl","style","ionInputDidLoad","round","date","keyboardHeight","None","ion-footer","scrollPadding","54244essuIa","add","pointerEvents","cloneNode","type","delete","undefined","145tmputJ","focusin","none","translate3d(","has","scrollDuration","addEventListener","scrollAmount","677793MnjwwB","click","innerHeight","shadowRoot","abs","2650779dHhLKU","data-ionic-skip-scroll-assist","touchend","setAttribute","querySelector","top","inputSafeY","target","ionScrollEnd","21256OdoQvw","input","ionScrollStart","true","matches","scrollHeight","6xGfnXS","--keyboard-offset","set","focus","ion-input, ion-textarea","get","transform","2537988UItLEr","$ionPaddingTimer","966SPxSqT","activeElement","parentNode","90847rpEWRK","focusout","bottom","px,"];return E=function(){return e},E()}const D=new WeakMap,M=(e,n,t,o=0,x=![])=>{D[_(495)](e)!==t&&(t?z(e,n,o,x):J(e,n))},Y=e=>{const n=_;return e===e.getRootNode()[n(529)]},z=(e,n,t,o=![])=>{const x=_,a=n[x(530)],d=n[x(570)](![]);d[x(540)][x(568)](x(536)),d[x(545)]=-1,o&&(d[x(549)]=!![]),a.appendChild(d),D.set(e,d);const r=e[x(541)],s=r.dir===x(558)?9999:-9999;e.style[x(569)]=x(493),n[x(559)][x(525)]=x(494)+s+x(534)+t+x(544)},J=(e,n)=>{const t=_,o=D[t(524)](e);o&&(D[t(572)](e),o[t(548)]()),e[t(559)][t(569)]="",n[t(559)][t(525)]=""},k=50,Q=(e,n,t)=>{const o=_;if(!t||!n)return()=>{};const x=s=>{Y(n)&&M(e,n,s)},a=()=>M(e,n,![]),d=()=>x(!![]),r=()=>x(![]);return T(t,o(515),d),T(t,"ionScrollEnd",r),n[o(497)]("blur",a),()=>{const s=o;R(t,s(515),d),R(t,s(512),r),n[s(539)](s(547),a)}},v=p(550),V=()=>{const e=p;let n=!![],t=![];const o=document,x=()=>{t=!![]},a=()=>{n=!![]},d=r=>{const s=_;if(t){t=![];return}const u=o[s(529)];if(!u||u.matches(v))return;const l=r[s(511)];l!==u&&(l[s(517)](v)||l[s(542)](v)||(n=![],setTimeout(()=>{!n&&u.blur()},50)))};return T(o,e(515),x),o[e(497)]("focusin",a,!![]),o[e(497)](e(506),d,![]),()=>{const r=e;R(o,"ionScrollStart",x,!![]),o[r(539)](r(575),a,!![]),o[r(539)](r(506),d,![])}},X=.3,$=(e,n,t)=>{const o=p;var x;const a=(x=e[o(542)]("ion-item,[ion-item]"))!==null&&x!==void 0?x:e;return Z(a[o(553)](),n.getBoundingClientRect(),t,e.ownerDocument.defaultView[o(501)])},Z=(e,n,t,o)=>{const x=p,a=e[x(509)],d=e[x(533)],r=n[x(509)],s=Math.min(n.bottom,o-t),u=r+15,l=s-k,b=l-d,i=u-a,m=Math[x(561)](b<0?-b:i>0?-i:0),y=Math[x(555)](m,a-r),L=Math[x(503)](y),P=L/X,c=Math.min(400,Math.max(150,P));return{scrollAmount:y,scrollDuration:c,scrollPadding:t,inputSafeY:-(a-u)+4}},K=p(527),C=(e,n,t)=>{const o=p,x=e[K];x&&clearTimeout(x),n>0?e[o(559)].setProperty(o(520),n+"px"):e[K]=setTimeout(()=>{const a=o;e.style.setProperty(a(520),"0px"),t&&t()},120)},O=(e,n,t)=>{const o=p,x=()=>{n&&C(n,0,t)};e[o(497)](o(532),x,{once:!![]})};let g=0;const B=p(505),tt=(e,n,t,o,x,a,d,r=![])=>{const s=p,u=a&&(d===void 0||d.mode===W[s(564)]),l=async()=>{if(n[s(538)](B)){n.removeAttribute(B);return}et(e,n,t,o,x,u,r)};return e[s(497)](s(575),l,!![]),()=>{const b=s;e[b(539)](b(575),l,!![])}},A=e=>{const n=p;document[n(529)]!==e&&(e[n(507)](B,n(516)),e[n(522)]())},et=async(e,n,t,o,x,a,d=![])=>{const r=p;if(!t&&!o)return;const s=$(e,t||o,x);if(t&&Math.abs(s[r(498)])<4){A(n),a&&t!==null&&(C(t,g),O(n,t,()=>g=0));return}if(M(e,n,!![],s[r(510)],d),A(n),j(()=>e[r(500)]()),a&&t&&(g=s[r(566)],C(t,g)),typeof window!==r(573)){let u;const l=async()=>{const i=r;u!==void 0&&clearTimeout(u),window[i(539)]("ionKeyboardDidShow",b),window[i(539)](i(557),l),t&&await F(t,0,s[i(498)],s[i(496)]),M(e,n,![],s[i(510)]),A(n),a&&O(n,t,()=>g=0)},b=()=>{const i=r;window[i(539)](i(557),b),window[i(497)](i(557),l)};if(t){const i=await q(t),m=i[r(518)]-i.clientHeight;if(s[r(498)]>m-i[r(546)]){n[r(571)]==="password"?(s[r(498)]+=k,window.addEventListener("ionKeyboardDidShow",b)):window.addEventListener(r(557),l),u=setTimeout(l,1e3);return}}l()}},nt=!![],rt=async(e,n)=>{const t=p,o=document,x=n==="ios",a=n===t(556),d=e.getNumber(t(563),290),r=e.getBoolean(t(535),!![]),s=e[t(551)]("hideCaretOnScroll",x),u=e[t(551)](t(554),x),l=e.getBoolean(t(566),!![]),b=Array.from(o[t(537)](t(523))),i=new WeakMap,m=new WeakMap,y=await H.getResizeMode(),L=async c=>{const f=t;await new Promise(I=>U(c,I));const S=c[f(502)]||c,w=S[f(508)](f(514))||S[f(508)]("textarea"),h=G(c),N=h?null:c[f(542)](f(565));if(!w)return;if(h&&s&&!i[f(495)](c)){const I=Q(c,w,h);i[f(521)](c,I)}if(!(w[f(571)]===f(562)||w[f(571)]==="datetime-local")&&(h||N)&&r&&!m[f(495)](c)){const I=tt(c,w,h,N,d,l,y,a);m[f(521)](c,I)}},P=c=>{const f=t;if(s){const S=i[f(524)](c);S&&S(),i.delete(c)}if(r){const S=m[f(524)](c);S&&S(),m[f(572)](c)}};u&&nt&&V();for(const c of b)L(c);o.addEventListener(t(560),c=>{L(c[t(552)])}),o.addEventListener("ionInputDidUnload",c=>{P(c.detail)})};export{rt as startInputShims};
