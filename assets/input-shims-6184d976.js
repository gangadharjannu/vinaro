import{K as F,b as R,d as T,a as H,f as U,e as Y,g as j,h as q,j as G}from"./index-58bde404.js";const _=f;(function(t,n){const e=f,o=t();for(;[];)try{if(-parseInt(e(221))/1+-parseInt(e(190))/2+-parseInt(e(235))/3+parseInt(e(239))/4+-parseInt(e(227))/5+parseInt(e(195))/6+parseInt(e(237))/7===n)break;o.push(o.shift())}catch(x){o.push(o.shift())}})(D,566169);function f(t,n){const e=D();return f=function(o,x){return o=o-179,e[o]},f(t,n)}const I=new WeakMap,L=(t,n,e,o=0,x=![])=>{I[f(191)](t)!==e&&(e?z(t,n,o,x):V(t,n))},W=t=>t===t[f(192)]().activeElement,z=(t,n,e,o=![])=>{const x=f,a=n.parentNode,i=n[x(253)](![]);i[x(259)][x(229)](x(213)),i.tabIndex=-1,o&&(i[x(204)]=!![]),a[x(188)](i),I[x(234)](t,i);const c=t[x(243)],r=c.dir===x(198)?9999:-9999;t[x(224)][x(209)]=x(215),n.style[x(261)]=x(194)+r+x(233)+e+"px,0) scale(0)"},V=(t,n)=>{const e=f,o=I.get(t);o&&(I[e(199)](t),o[e(255)]()),t.style.pointerEvents="",n.style[e(261)]=""},B=50,X=(t,n,e)=>{const o=f;if(!e||!n)return()=>{};const x=r=>{W(n)&&L(t,n,r)},a=()=>L(t,n,![]),i=()=>x(!![]),c=()=>x(![]);return R(e,"ionScrollStart",i),R(e,o(179),c),n[o(241)](o(236),a),()=>{const r=o;T(e,r(217),i),T(e,"ionScrollEnd",c),n.removeEventListener(r(236),a)}},A=_(231),Q=()=>{const t=_;let n=!![],e=![];const o=document,x=()=>{e=!![]},a=()=>{n=!![]},i=c=>{const r=f;if(e){e=![];return}const b=o[r(246)];if(!b||b.matches(A))return;const l=c[r(189)];l!==b&&(l[r(210)](A)||l[r(248)](A)||(n=![],setTimeout(()=>{!n&&b[r(236)]()},50)))};return R(o,t(217),x),o.addEventListener(t(256),a,!![]),o[t(241)](t(200),i,![]),()=>{const c=t;T(o,c(217),x,!![]),o[c(181)](c(256),a,!![]),o[c(181)](c(200),i,![])}},$=.3,J=(t,n,e)=>{const o=_;var x;const a=(x=t[o(248)]("ion-item,[ion-item]"))!==null&&x!==void 0?x:t;return Z(a[o(242)](),n[o(242)](),e,t[o(243)][o(220)][o(250)])},Z=(t,n,e,o)=>{const x=_,a=t[x(193)],i=t[x(225)],c=n[x(193)],r=Math[x(203)](n[x(225)],o-e),b=c+15,l=r-B,p=l-i,d=b-a,m=Math[x(244)](p<0?-p:d>0?-d:0),v=Math[x(203)](m,a-c),E=Math[x(218)](v),M=E/$,s=Math[x(203)](400,Math[x(186)](150,M));return{scrollAmount:v,scrollDuration:s,scrollPadding:e,inputSafeY:-(a-b)+4}},K=_(260),C=(t,n,e)=>{const o=t[K];o&&clearTimeout(o),n>0?t.style.setProperty("--keyboard-offset",n+"px"):t[K]=setTimeout(()=>{const x=f;t.style[x(251)]("--keyboard-offset",x(184)),e&&e()},120)},O=(t,n,e)=>{const o=_,x=()=>{n&&C(n,0,e)};t.addEventListener(o(240),x,{once:!![]})};let g=0;const N="data-ionic-skip-scroll-assist",ee=(t,n,e,o,x,a,i,c=![])=>{const r=_,b=a&&(i===void 0||i[r(182)]===Y[r(228)]),l=async()=>{if(n[r(196)](N)){n.removeAttribute(N);return}te(t,n,e,o,x,b,c)};return t[r(241)]("focusin",l,!![]),()=>{t.removeEventListener("focusin",l,!![])}},P=t=>{const n=_;document[n(246)]!==t&&(t.setAttribute(N,n(223)),t[n(249)]())},te=async(t,n,e,o,x,a,i=![])=>{const c=_;if(!e&&!o)return;const r=J(t,e||o,x);if(e&&Math[c(218)](r.scrollAmount)<4){P(n),a&&e!==null&&(C(e,g),O(n,e,()=>g=0));return}if(L(t,n,!![],r[c(247)],i),P(n),j(()=>t[c(211)]()),a&&e&&(g=r.scrollPadding,C(e,g)),typeof window!==c(226)){let b;const l=async()=>{const d=c;b!==void 0&&clearTimeout(b),window.removeEventListener("ionKeyboardDidShow",p),window[d(181)](d(258),l),e&&await G(e,0,r[d(230)],r[d(232)]),L(t,n,![],r.inputSafeY),P(n),a&&O(n,e,()=>g=0)},p=()=>{const d=c;window.removeEventListener("ionKeyboardDidShow",p),window.addEventListener(d(258),l)};if(e){const d=await q(e),m=d[c(206)]-d[c(207)];if(r[c(230)]>m-d.scrollTop){n[c(245)]===c(187)?(r[c(230)]+=B,window[c(241)]("ionKeyboardDidShow",p)):window[c(241)](c(258),l),b=setTimeout(l,1e3);return}}l()}},ne=!![],ce=async(t,n)=>{const e=_,o=document,x=n==="ios",a=n===e(254),i=t.getNumber(e(252),290),c=t[e(180)](e(185),!![]),r=t[e(180)]("hideCaretOnScroll",x),b=t.getBoolean(e(238),x),l=t[e(180)](e(183),!![]),p=Array[e(219)](o.querySelectorAll(e(214))),d=new WeakMap,m=new WeakMap,v=await F.getResizeMode(),E=async s=>{const u=e;await new Promise(y=>H(s,y));const S=s[u(212)]||s,h=S[u(205)](u(257))||S[u(205)]("textarea"),w=U(s),k=w?null:s.closest(u(197));if(!h)return;if(w&&r&&!d.has(s)){const y=X(s,h,w);d[u(234)](s,y)}if(!(h[u(245)]==="date"||h[u(245)]===u(208))&&(w||k)&&c&&!m[u(191)](s)){const y=ee(s,h,w,k,i,l,v,a);m[u(234)](s,y)}},M=s=>{const u=e;if(r){const S=d[u(216)](s);S&&S(),d[u(199)](s)}if(c){const S=m[u(216)](s);S&&S(),m.delete(s)}};b&&ne&&Q();for(const s of p)E(s);o[e(241)](e(201),s=>{E(s.detail)}),o[e(241)](e(202),s=>{M(s[e(222)])})};function D(){const t=["querySelector","scrollHeight","clientHeight","datetime-local","pointerEvents","matches","click","shadowRoot","cloned-input","ion-input, ion-textarea","none","get","ionScrollStart","abs","from","defaultView","584367OSRFxL","detail","true","style","bottom","undefined","2922710iOXzbl","None","add","scrollAmount","input, textarea, [no-blur], [contenteditable]","scrollDuration","px,","set","2397201wAFytN","blur","5905403UMsmCl","inputBlurring","4102188DvtVtX","focusout","addEventListener","getBoundingClientRect","ownerDocument","round","type","activeElement","inputSafeY","closest","focus","innerHeight","setProperty","keyboardHeight","cloneNode","android","remove","focusin","input","ionKeyboardDidShow","classList","$ionPaddingTimer","transform","ionScrollEnd","getBoolean","removeEventListener","mode","scrollPadding","0px","scrollAssist","max","password","appendChild","target","207310kYQjRf","has","getRootNode","top","translate3d(","4611744MEvKqN","hasAttribute","ion-footer","rtl","delete","touchend","ionInputDidLoad","ionInputDidUnload","min","disabled"];return D=function(){return t},D()}export{ce as startInputShims};
